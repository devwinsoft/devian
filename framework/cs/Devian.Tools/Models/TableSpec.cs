// <auto-generated>
// Devian Build System - Table Spec Model
// </auto-generated>

using System.Collections.Generic;

namespace Devian.Tools.Models
{
    /// <summary>
    /// 테이블 스펙 (61-tablegen-implementation)
    /// Excel 시트에서 파싱된 테이블 정보
    /// </summary>
    public class TableSpec
    {
        /// <summary>
        /// 도메인 이름 (예: Common)
        /// </summary>
        public string Domain { get; set; } = "";

        /// <summary>
        /// 테이블 이름 (시트명 기반 정규화)
        /// </summary>
        public string TableName { get; set; } = "";

        /// <summary>
        /// 컬럼 정의 (Row 1~4에서 파싱)
        /// </summary>
        public List<ColumnSpec> Columns { get; set; } = new();

        /// <summary>
        /// 데이터 행 (Row 5+)
        /// </summary>
        public List<Dictionary<string, object?>> Rows { get; set; } = new();

        /// <summary>
        /// Primary Key 컬럼 인덱스 (-1이면 없음)
        /// </summary>
        public int PrimaryKeyIndex { get; set; } = -1;
    }

    /// <summary>
    /// 테이블 컬럼 정의
    /// </summary>
    public class ColumnSpec
    {
        /// <summary>
        /// 필드 이름 (Row 1)
        /// </summary>
        public string Name { get; set; } = "";

        /// <summary>
        /// 타입 (Row 2)
        /// </summary>
        public string Type { get; set; } = "";

        /// <summary>
        /// Key 여부 (Row 3: key:true)
        /// </summary>
        public bool IsKey { get; set; }

        /// <summary>
        /// Optional 여부 (Row 3: optional:true)
        /// </summary>
        public bool IsOptional { get; set; }

        /// <summary>
        /// 주석 (Row 4) - 해석하지 않음
        /// </summary>
        public string? Comment { get; set; }
    }
}
