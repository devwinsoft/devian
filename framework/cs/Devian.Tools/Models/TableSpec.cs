// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System
// </auto-generated>

using Devian.Tools.Generators;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace Devian.Tools.Models
{

    /// <summary>
    /// Excel 테이블 스펙 (4행 헤더 기반, Strict Mode)
    /// </summary>
    public class TableSpec
    {
        public string Domain { get; set; } = "";
        public string ExcelFileName { get; set; } = "";
        public string SheetName { get; set; } = "";
        public string TableName { get; set; } = "";
        public string SheetKey { get; set; } = "";
        public string RowTypeName { get; set; } = "";
        public List<ColumnSpec> Columns { get; set; } = new();
        public int PrimaryKeyColumnIndex { get; set; }
        public string PrimaryKeyFieldName { get; set; } = "";
        public string PrimaryKeyTypeKey { get; set; } = "";
    }

    /// <summary>
    /// 컬럼 스펙
    /// </summary>
    public class ColumnSpec
    {
        /// <summary>Row 1: 필드명</summary>
        public string Name { get; set; } = "";

        /// <summary>Row 2: 타입 (scalar, enum:{Name}, class:{Name}, [])</summary>
        public string Type { get; set; } = "";

        /// <summary>Row 3: 옵션 (key:true, optional:true, parser:dff 등)</summary>
        public Dictionary<string, string> Options { get; set; } = new();

        /// <summary>Row 4: 주석 (Devian은 해석하지 않음)</summary>
        public string Comment { get; set; } = "";

        /// <summary>배열 여부</summary>
        public bool IsArray { get; set; }

        /// <summary>참조 타입 여부 (enum: 또는 class:)</summary>
        public bool IsRef { get; set; }

        /// <summary>참조 타입 종류 (None, Enum, Class)</summary>
        public TypeMapper.RefKind RefKind { get; set; }

        /// <summary>참조 타입명 (enum:{Name} 또는 class:{Name}에서 Name 부분)</summary>
        public string? RefTypeName { get; set; }

        /// <summary>Common 도메인 참조 여부 (enum:Common.{Name} 또는 class:Common.{Name})</summary>
        public bool IsCommonRef { get; set; }
    }
}
