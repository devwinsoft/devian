// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System
// </auto-generated>

using System;
using System.Linq;

namespace Devian.Tools.Generators
{

    /// <summary>
    /// 도메인 → 네임스페이스 변환
    /// 
    /// Hard Rule 9: 도메인 단일 네임스페이스
    /// - 도메인당 하나의 네임스페이스만 사용
    /// - 하위 네임스페이스(Devian.Common.*)는 금지
    /// - common → Devian.Common, ws → Devian.Ws
    /// </summary>
    public static class DomainNamespace
    {
        /// <summary>
        /// 도메인명 → C# 네임스페이스
        /// </summary>
        public static string ToCSharpNamespace(string domain)
        {
            var pascalCase = toPascalCase(domain);
            return $"Devian.{pascalCase}";
        }

        /// <summary>
        /// 도메인명 → TypeScript 네임스페이스
        /// </summary>
        public static string ToTypeScriptNamespace(string domain)
        {
            return domain.ToLowerInvariant();
        }

        /// <summary>
        /// 도메인명 → Proto 패키지명
        /// </summary>
        public static string ToProtoPackage(string domain)
        {
            return $"devian.{domain.ToLowerInvariant()}";
        }

        /// <summary>
        /// 도메인명 → UPM 패키지 ID
        /// </summary>
        public static string ToUpmPackageId(string domain)
        {
            return $"com.devian.{domain.ToLowerInvariant()}";
        }

        /// <summary>
        /// 도메인명 → npm 패키지명
        /// </summary>
        public static string ToNpmPackageName(string domain)
        {
            return $"@devian/{domain.ToLowerInvariant()}";
        }

        /// <summary>
        /// snake_case/kebab-case → PascalCase 변환
        /// </summary>
        private static string toPascalCase(string input)
        {
            if (string.IsNullOrEmpty(input)) return input;

            var parts = input.Split(new[] { '_', '-' }, StringSplitOptions.RemoveEmptyEntries);
            return string.Concat(parts.Select(p =>
                char.ToUpper(p[0]) + (p.Length > 1 ? p[1..].ToLower() : "")));
        }
    }
}
