// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// Domain Table Registry - Auto-registers TB/ST loaders at startup
// SSOT: skills/devian-unity/10-base-system/14-table-manager/SKILL.md
// </auto-generated>

#nullable enable

using UnityEngine;

namespace Devian.Domain.Sound
{
    /// <summary>
    /// Auto-registers TB/ST loaders for Sound domain at startup.
    /// This ensures TableManager can auto-insert data when loading tables.
    /// </summary>
    internal static class DomainTableRegistry
    {
        [RuntimeInitializeOnLoadMethod(RuntimeInitializeLoadType.BeforeSceneLoad)]
        private static void Register()
        {
            global::Devian.TableManager.Instance.RegisterTbLoader("SOUND", (format, text, bin) =>
            {
                if (format == global::Devian.TableFormat.Json && text != null)
                {
                    TB_SOUND.LoadFromNdjson(text);
                    TB_SOUND._AfterLoad();
                }
                else if (format == global::Devian.TableFormat.Pb64 && bin != null)
                {
                    TB_SOUND.LoadFromPb64Binary(bin);
                    TB_SOUND._AfterLoad();
                }
            });

            global::Devian.TableManager.Instance.RegisterTbLoader("VOICE", (format, text, bin) =>
            {
                if (format == global::Devian.TableFormat.Json && text != null)
                {
                    TB_VOICE.LoadFromNdjson(text);
                    TB_VOICE._AfterLoad();
                }
                else if (format == global::Devian.TableFormat.Pb64 && bin != null)
                {
                    TB_VOICE.LoadFromPb64Binary(bin);
                    TB_VOICE._AfterLoad();
                }
            });

        }
    }
}