// <auto-generated>
// Unity Prefs - BoolPrefs
// SSOT: skills/devian-unity/30-unity-components/24-player-prefs/SKILL.md
// </auto-generated>

using UnityEngine;

namespace Devian
{
    /// <summary>
    /// PlayerPrefs wrapper for bool values.
    /// Stores as int (0 = false, 1 = true).
    /// If key doesn't exist on get, stores defaultValue and returns it.
    /// </summary>
    public sealed class BoolPrefs : PrefsValue<bool>
    {
        public BoolPrefs(string key, bool defaultValue) : base(key, defaultValue) { }

        public override bool Value
        {
            get
            {
                if (PlayerPrefs.HasKey(key)) return PlayerPrefs.GetInt(key) != 0;
                PlayerPrefs.SetInt(key, defaultValue ? 1 : 0);
                return defaultValue;
            }
            set => PlayerPrefs.SetInt(key, value ? 1 : 0);
        }
    }
}
