// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// </auto-generated>

#nullable enable

using System;
using System.Collections.Generic;
using System.IO;
using Newtonsoft.Json;
using Devian;

namespace Devian.Domain.Game
{
    // ================================================================
    // Contracts
    // ================================================================

    /// <summary>CurrencyType enum</summary>
    public enum CurrencyType
    {
        Gold = 0,
        JewelFree = 1,
        JewelPaid = 2,
        Stamina = 3,
        Friendship = 4,
        GuildCoin = 5,
        ArenaCoin = 6,
    }

    /// <summary>RewardType enum</summary>
    public enum RewardType
    {
        Card = 0,
        Currency = 1,
        Equip = 2,
        Hero = 3,
    }

    /// <summary>StatType enum</summary>
    public enum StatType
    {
        None = 0,
        CardAmount = 1,
        CardLevel = 2,
        EquipLevel = 11,
        UnitAmount = 20,
        UnitLevel = 21,
        UnitHpMax = 100,
    }

    /// <summary>ProductKind enum</summary>
    public enum ProductKind
    {
        Consumable = 0,
        Rental = 1,
        Subscription = 2,
        SeasonPass = 3,
    }

    /// <summary>UserType enum</summary>
    public enum UserType
    {
        Guest = 0,
        Member = 1,
        Admin = 2,
    }

    /// <summary>UserProfile class</summary>
    public sealed class UserProfile : IEntity
    {
        public int Id { get; set; }
        public string Name { get; set; } = string.Empty;
        public UserType UserType { get; set; }
    }

    // ================================================================
    // Table Entities
    // ================================================================

    /// <summary>EQUIP row</summary>
    public sealed class EQUIP : IEntityKey<string>
    {
        public string EquipId { get; set; } = string.Empty;
        public string NameId { get; set; } = string.Empty;
        public string DescId { get; set; } = string.Empty;

        public string GetKey() => EquipId;
    }

    /// <summary>CARD row</summary>
    public sealed class CARD : IEntityKey<string>
    {
        public string CardId { get; set; } = string.Empty;
        public string NameId { get; set; } = string.Empty;
        public string DescId { get; set; } = string.Empty;

        public string GetKey() => CardId;
    }

    /// <summary>MISSION_DAILY row</summary>
    public sealed class MISSION_DAILY : IEntityKey<string>
    {
        public string MissionId { get; set; } = string.Empty;
        public bool IsActive { get; set; }
        public string ConditionType { get; set; } = string.Empty;
        public string ConditionKey { get; set; } = string.Empty;
        public string ConditionOp { get; set; } = string.Empty;
        public int ConditionValue { get; set; }
        public string RewardKey { get; set; } = string.Empty;

        public string GetKey() => MissionId;
    }

    /// <summary>MISSION_WEEKLY row</summary>
    public sealed class MISSION_WEEKLY : IEntityKey<string>
    {
        public string MissionId { get; set; } = string.Empty;
        public bool IsActive { get; set; }
        public string ConditionType { get; set; } = string.Empty;
        public string ConditionKey { get; set; } = string.Empty;
        public string ConditionOp { get; set; } = string.Empty;
        public int ConditionValue { get; set; }
        public string RewardKey { get; set; } = string.Empty;

        public string GetKey() => MissionId;
    }

    /// <summary>MISSION_ACHIEVEMENT row</summary>
    public sealed class MISSION_ACHIEVEMENT : IEntityKey<string>
    {
        public string MissionId { get; set; } = string.Empty;
        public bool IsActive { get; set; }
        public string ConditionType { get; set; } = string.Empty;
        public string ConditionKey { get; set; } = string.Empty;
        public string ConditionOp { get; set; } = string.Empty;
        public int ConditionValue { get; set; }
        public string RewardKey { get; set; } = string.Empty;

        public string GetKey() => MissionId;
    }

    /// <summary>PRODUCT row</summary>
    public sealed class PRODUCT : IEntityKey<string>
    {
        public string InternalProductId { get; set; } = string.Empty;
        public string RewardGroupId { get; set; } = string.Empty;
        public ProductKind Kind { get; set; }
        public string Title { get; set; } = string.Empty;
        public bool IsActive { get; set; }
        public string StoreSkuApple { get; set; } = string.Empty;
        public string StoreSkuGoogle { get; set; } = string.Empty;

        public string GetKey() => InternalProductId;
    }

    /// <summary>REWARD row</summary>
    public sealed class REWARD : IEntityKey<int>
    {
        public int RewardNum { get; set; }
        public string RewardGroupId { get; set; } = string.Empty;
        public RewardType Type { get; set; }
        public string Id { get; set; } = string.Empty;
        public int Amount { get; set; }

        public int GetKey() => RewardNum;
    }

    /// <summary>UNIT_HERO row</summary>
    public sealed class UNIT_HERO : IEntityKey<string>
    {
        public string UnitId { get; set; } = string.Empty;
        public string NameId { get; set; } = string.Empty;
        public string DescId { get; set; } = string.Empty;
        public int MaxHp { get; set; }

        public string GetKey() => UnitId;
    }

    /// <summary>UNIT_MONSTER row</summary>
    public sealed class UNIT_MONSTER : IEntityKey<string>
    {
        public string UnitId { get; set; } = string.Empty;
        public string NameId { get; set; } = string.Empty;
        public string DescId { get; set; } = string.Empty;
        public int MaxHp { get; set; }

        public string GetKey() => UnitId;
    }

    // ================================================================
    // Table Containers
    // ================================================================

    /// <summary>TB_EQUIP container</summary>
    public static partial class TB_EQUIP
    {
        private static readonly Dictionary<string, EQUIP> _dict = new();
        private static readonly List<EQUIP> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<EQUIP> GetAll() => _list;

        public static EQUIP? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out EQUIP? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(EQUIP row)
        {
            _list.Add(row);
            _dict[row.EquipId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<EQUIP>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<EQUIP>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<EQUIP>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_CARD container</summary>
    public static partial class TB_CARD
    {
        private static readonly Dictionary<string, CARD> _dict = new();
        private static readonly List<CARD> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<CARD> GetAll() => _list;

        public static CARD? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out CARD? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(CARD row)
        {
            _list.Add(row);
            _dict[row.CardId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<CARD>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<CARD>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<CARD>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_MISSION_DAILY container</summary>
    public static partial class TB_MISSION_DAILY
    {
        private static readonly Dictionary<string, MISSION_DAILY> _dict = new();
        private static readonly List<MISSION_DAILY> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<MISSION_DAILY> GetAll() => _list;

        public static MISSION_DAILY? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out MISSION_DAILY? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(MISSION_DAILY row)
        {
            _list.Add(row);
            _dict[row.MissionId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<MISSION_DAILY>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<MISSION_DAILY>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<MISSION_DAILY>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_MISSION_WEEKLY container</summary>
    public static partial class TB_MISSION_WEEKLY
    {
        private static readonly Dictionary<string, MISSION_WEEKLY> _dict = new();
        private static readonly List<MISSION_WEEKLY> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<MISSION_WEEKLY> GetAll() => _list;

        public static MISSION_WEEKLY? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out MISSION_WEEKLY? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(MISSION_WEEKLY row)
        {
            _list.Add(row);
            _dict[row.MissionId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<MISSION_WEEKLY>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<MISSION_WEEKLY>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<MISSION_WEEKLY>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_MISSION_ACHIEVEMENT container</summary>
    public static partial class TB_MISSION_ACHIEVEMENT
    {
        private static readonly Dictionary<string, MISSION_ACHIEVEMENT> _dict = new();
        private static readonly List<MISSION_ACHIEVEMENT> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<MISSION_ACHIEVEMENT> GetAll() => _list;

        public static MISSION_ACHIEVEMENT? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out MISSION_ACHIEVEMENT? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(MISSION_ACHIEVEMENT row)
        {
            _list.Add(row);
            _dict[row.MissionId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<MISSION_ACHIEVEMENT>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<MISSION_ACHIEVEMENT>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<MISSION_ACHIEVEMENT>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_PRODUCT container</summary>
    public static partial class TB_PRODUCT
    {
        private static readonly Dictionary<string, PRODUCT> _dict = new();
        private static readonly List<PRODUCT> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<PRODUCT> GetAll() => _list;

        public static PRODUCT? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out PRODUCT? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(PRODUCT row)
        {
            _list.Add(row);
            _dict[row.InternalProductId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<PRODUCT>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<PRODUCT>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<PRODUCT>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_REWARD container</summary>
    public static partial class TB_REWARD
    {
        private static readonly Dictionary<int, REWARD> _dict = new();
        private static readonly List<REWARD> _list = new();

        private static readonly Dictionary<string, List<REWARD>> _groupDict = new();
        private static readonly List<string> _groupList = new();
        private static readonly Dictionary<string, int> _groupPrimaryKey = new();
        private static readonly Dictionary<int, string> _keyToGroup = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
            _groupDict.Clear();
            _groupList.Clear();
            _groupPrimaryKey.Clear();
            _keyToGroup.Clear();
        }

        public static IReadOnlyList<REWARD> GetAll() => _list;

        public static IReadOnlyList<string> GetGroupKeys() => _groupList;

        public static IReadOnlyList<REWARD> GetByGroup(string groupKey)
        {
            return _groupDict.TryGetValue(groupKey, out var list) ? list : Array.Empty<REWARD>();
        }

        public static bool TryGetGroupPrimaryKey(string groupKey, out int key)
        {
            return _groupPrimaryKey.TryGetValue(groupKey, out key);
        }

        public static bool TryGetGroupKeyByKey(int key, out string groupKey)
        {
            return _keyToGroup.TryGetValue(key, out groupKey);
        }

        public static REWARD? Get(int key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(int key, out REWARD? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(REWARD row)
        {
            _list.Add(row);
            _dict[row.RewardNum] = row;
            var groupKey = row.RewardGroupId;
            _keyToGroup[row.RewardNum] = groupKey;
            if (!_groupDict.TryGetValue(groupKey, out var groupList))
            {
                groupList = new List<REWARD>();
                _groupDict[groupKey] = groupList;
                _groupList.Add(groupKey);
            }
            groupList.Add(row);
            if (_groupPrimaryKey.TryGetValue(groupKey, out var existing))
            {
                if (Comparer<int>.Default.Compare(row.RewardNum, existing) < 0)
                    _groupPrimaryKey[groupKey] = row.RewardNum;
            }
            else
            {
                _groupPrimaryKey[groupKey] = row.RewardNum;
            }
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<REWARD>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<REWARD>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<REWARD>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_UNIT_HERO container</summary>
    public static partial class TB_UNIT_HERO
    {
        private static readonly Dictionary<string, UNIT_HERO> _dict = new();
        private static readonly List<UNIT_HERO> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<UNIT_HERO> GetAll() => _list;

        public static UNIT_HERO? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out UNIT_HERO? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(UNIT_HERO row)
        {
            _list.Add(row);
            _dict[row.UnitId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<UNIT_HERO>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<UNIT_HERO>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<UNIT_HERO>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    /// <summary>TB_UNIT_MONSTER container</summary>
    public static partial class TB_UNIT_MONSTER
    {
        private static readonly Dictionary<string, UNIT_MONSTER> _dict = new();
        private static readonly List<UNIT_MONSTER> _list = new();

        public static int Count => _list.Count;

        public static void Clear()
        {
            _dict.Clear();
            _list.Clear();
        }

        public static IReadOnlyList<UNIT_MONSTER> GetAll() => _list;

        public static UNIT_MONSTER? Get(string key)
        {
            return _dict.TryGetValue(key, out var row) ? row : null;
        }

        public static bool TryGet(string key, out UNIT_MONSTER? row)
        {
            return _dict.TryGetValue(key, out row);
        }

        private static void AddRow(UNIT_MONSTER row)
        {
            _list.Add(row);
            _dict[row.UnitId] = row;
        }

        public static void LoadFromJson(string json)
        {
            Clear();
            var rows = JsonConvert.DeserializeObject<List<UNIT_MONSTER>>(json);
            if (rows == null) return;
            foreach (var row in rows)
            {
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromNdjson(string ndjson)
        {
            Clear();
            using var reader = new StringReader(ndjson);
            string? line;
            while ((line = reader.ReadLine()) != null)
            {
                if (string.IsNullOrWhiteSpace(line)) continue;
                var row = JsonConvert.DeserializeObject<UNIT_MONSTER>(line);
                if (row == null) continue;
                AddRow(row);
            }
        }

        public static void LoadFromPb64Binary(byte[] rawBinary)
        {
            Clear();
            Pb64Loader.ParseRows(rawBinary, jsonRow =>
            {
                if (string.IsNullOrWhiteSpace(jsonRow)) return;
                var row = JsonConvert.DeserializeObject<UNIT_MONSTER>(jsonRow);
                if (row == null) return;
                AddRow(row);
            });
        }

        // ====================================================================
        // AfterLoad Hook (optional)
        // Called by DomainTableRegistry after TableManager inserts data.
        // ====================================================================

        internal static void _AfterLoad()
        {
            _OnAfterLoad();
        }

        static partial void _OnAfterLoad();
    }

    // ================================================================
    // Table ID Types (for Inspector binding)
    // ================================================================

    /// <summary>Inspector-bindable ID for EQUIP</summary>
    [Serializable]
    public sealed class EQUIP_ID
    {
        public string Value;

        public static implicit operator string(EQUIP_ID id) => id.Value;
        public static implicit operator EQUIP_ID(string value) => new EQUIP_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for CARD</summary>
    [Serializable]
    public sealed class CARD_ID
    {
        public string Value;

        public static implicit operator string(CARD_ID id) => id.Value;
        public static implicit operator CARD_ID(string value) => new CARD_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for MISSION_DAILY</summary>
    [Serializable]
    public sealed class MISSION_DAILY_ID
    {
        public string Value;

        public static implicit operator string(MISSION_DAILY_ID id) => id.Value;
        public static implicit operator MISSION_DAILY_ID(string value) => new MISSION_DAILY_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for MISSION_WEEKLY</summary>
    [Serializable]
    public sealed class MISSION_WEEKLY_ID
    {
        public string Value;

        public static implicit operator string(MISSION_WEEKLY_ID id) => id.Value;
        public static implicit operator MISSION_WEEKLY_ID(string value) => new MISSION_WEEKLY_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for MISSION_ACHIEVEMENT</summary>
    [Serializable]
    public sealed class MISSION_ACHIEVEMENT_ID
    {
        public string Value;

        public static implicit operator string(MISSION_ACHIEVEMENT_ID id) => id.Value;
        public static implicit operator MISSION_ACHIEVEMENT_ID(string value) => new MISSION_ACHIEVEMENT_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for PRODUCT</summary>
    [Serializable]
    public sealed class PRODUCT_ID
    {
        public string Value;

        public static implicit operator string(PRODUCT_ID id) => id.Value;
        public static implicit operator PRODUCT_ID(string value) => new PRODUCT_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for REWARD</summary>
    [Serializable]
    public sealed class REWARD_ID
    {
        public int Value;

        public static implicit operator int(REWARD_ID id) => id.Value;
        public static implicit operator REWARD_ID(int value) => new REWARD_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for UNIT_HERO</summary>
    [Serializable]
    public sealed class UNIT_HERO_ID
    {
        public string Value;

        public static implicit operator string(UNIT_HERO_ID id) => id.Value;
        public static implicit operator UNIT_HERO_ID(string value) => new UNIT_HERO_ID { Value = value };
    }

    /// <summary>Inspector-bindable ID for UNIT_MONSTER</summary>
    [Serializable]
    public sealed class UNIT_MONSTER_ID
    {
        public string Value;

        public static implicit operator string(UNIT_MONSTER_ID id) => id.Value;
        public static implicit operator UNIT_MONSTER_ID(string value) => new UNIT_MONSTER_ID { Value = value };
    }

    /// <summary>Table ID validation extensions</summary>
    public static class TableIdExtensions
    {
        public static bool IsValid(this EQUIP_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this CARD_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this MISSION_DAILY_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this MISSION_WEEKLY_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this MISSION_ACHIEVEMENT_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this PRODUCT_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this REWARD_ID? obj) => obj != null && !EqualityComparer<int>.Default.Equals(obj.Value, default);
        public static bool IsValid(this UNIT_HERO_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
        public static bool IsValid(this UNIT_MONSTER_ID? obj) => obj != null && !string.IsNullOrEmpty(obj.Value);
    }

}