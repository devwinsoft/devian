// <auto-generated>
// Unity Pool - BundlePool (Static Facade)
// SSOT: skills/devian-unity/30-unity-components/04-pool-factories/SKILL.md
// </auto-generated>

using UnityEngine;

namespace Devian
{
    /// <summary>
    /// Static facade for bundle-based pooling.
    /// Primary user-facing API.
    /// </summary>
    public static class BundlePool
    {
        /// <summary>
        /// Spawns a pooled instance from bundle assets.
        /// </summary>
        /// <typeparam name="T">The poolable component type</typeparam>
        /// <param name="name">Asset name (also used as pool key)</param>
        /// <param name="position">World position</param>
        /// <param name="rotation">Rotation</param>
        /// <param name="parent">Optional parent transform</param>
        /// <param name="options">Pool options</param>
        /// <returns>The spawned instance</returns>
        public static T Spawn<T>(
            string name,
            Vector3 position = default,
            Quaternion rotation = default,
            Transform parent = null,
            PoolOptions options = default)
            where T : Component, IPoolable<T>
        {
            UnityMainThread.EnsureOrThrow("BundlePool.Spawn");
            return BundlePoolFactory.Instance.Spawn<T>(name, position, rotation, parent, options);
        }

        /// <summary>
        /// Despawns an instance back to its pool.
        /// </summary>
        /// <param name="instance">The instance to despawn</param>
        public static void Despawn(Component instance)
        {
            UnityMainThread.EnsureOrThrow("BundlePool.Despawn");
            BundlePoolFactory.Instance.Despawn(instance);
        }

        /// <summary>
        /// Clears all inactive instances from all pools.
        /// </summary>
        public static void ClearAll()
        {
            UnityMainThread.EnsureOrThrow("BundlePool.ClearAll");
            PoolManager.Instance.ClearAll();
        }
    }
}
