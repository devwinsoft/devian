// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// Unity wrapper for TableManager integration
// SSOT: skills/devian-unity/10-base-system/14-table-manager/SKILL.md
// </auto-generated>

#nullable enable

using System;
using System.Collections;
using UnityEngine;

namespace Devian.Domain.Game
{
    public static partial class TB_MISSION_DAILY
    {
        private static global::Devian.TableFormat _loadedFormat;
        private static bool _isLoaded;

        /// <summary>
        /// Preload MISSION_DAILY table via TableManager.
        /// TableManager handles: TextAsset load + TB insert + cache.
        /// </summary>
        /// <param name="key">Addressables key to load TextAsset</param>
        /// <param name="format">Json or Pb64</param>
        /// <param name="onError">Error callback</param>
        public static IEnumerator PreloadAsync(
            string key,
            global::Devian.TableFormat format,
            Action<string>? onError = null)
        {
            yield return global::Devian.TableManager.Instance.LoadTablesAsync(
                key,
                format,
                onError
            );
            _loadedFormat = format;
            _isLoaded = true;
        }

        /// <summary>
        /// Unload MISSION_DAILY table and clear data.
        /// </summary>
        public static void Unload()
        {
            Clear();
            _isLoaded = false;
        }

        /// <summary>
        /// Check if MISSION_DAILY table is loaded.
        /// </summary>
        public static bool IsLoaded => _isLoaded;

        /// <summary>
        /// Get the format used for loading.
        /// </summary>
        public static global::Devian.TableFormat LoadedFormat => _loadedFormat;
    }
}