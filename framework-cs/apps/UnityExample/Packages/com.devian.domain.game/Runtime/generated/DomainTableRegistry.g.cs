// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// Domain Table Registry - Auto-registers TB/ST loaders at startup
// SSOT: skills/devian-unity/30-unity-components/14-table-manager/SKILL.md
// </auto-generated>

#nullable enable

using UnityEngine;

namespace Devian.Domain.Game
{
    /// <summary>
    /// Auto-registers TB/ST loaders for Game domain at startup.
    /// This ensures TableManager can auto-insert data when loading tables.
    /// </summary>
    internal static class DomainTableRegistry
    {
        [RuntimeInitializeOnLoadMethod(RuntimeInitializeLoadType.BeforeSceneLoad)]
        private static void Register()
        {
            global::Devian.TableManager.Instance.RegisterTbLoader("TestSheet", (format, text, bin) =>
            {
                if (format == global::Devian.TableFormat.Json && text != null)
                    TB_TestSheet.LoadFromNdjson(text);
                else if (format == global::Devian.TableFormat.Pb64 && bin != null)
                    TB_TestSheet.LoadFromPb64Binary(bin);
            });

            global::Devian.TableManager.Instance.RegisterStLoader("UIText", (format, lang, text, pb64Text) =>
            {
                if (format == global::Devian.TableFormat.Json && text != null)
                    ST_UIText._LoadFromNdjson(text, lang);
                else if (format == global::Devian.TableFormat.Pb64 && pb64Text != null)
                    ST_UIText._LoadFromPb64(pb64Text, lang);
            });

        }
    }
}