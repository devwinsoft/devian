// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// </auto-generated>

#nullable enable

using System;
using System.Collections.Generic;
using System.IO;
using System.Text.Json;

namespace Devian.Tables
{
    /// <summary>VECTOR3 row</summary>
    public sealed class VECTOR3Row
    {
        public float X { get; set; }
        public float Y { get; set; }
        public float Z { get; set; }
    }

    public static partial class Table
    {
        /// <summary>TB_VECTOR3 container</summary>
        public static class TB_VECTOR3
        {
            private static readonly List<VECTOR3Row> _list = new();

            public static int Count => _list.Count;

            public static void Clear()
            {
                _list.Clear();
            }

            public static IReadOnlyList<VECTOR3Row> GetAll() => _list;

            public static void LoadFromJson(string json)
            {
                Clear();
                using var doc = JsonDocument.Parse(json);
                foreach (var element in doc.RootElement.EnumerateArray())
                {
                    var row = JsonSerializer.Deserialize<VECTOR3Row>(element.GetRawText());
                    if (row == null) continue;
                    _list.Add(row);
                }
            }

            public static void LoadFromNdjson(string ndjson)
            {
                Clear();
                using var reader = new StringReader(ndjson);
                string? line;
                while ((line = reader.ReadLine()) != null)
                {
                    if (string.IsNullOrWhiteSpace(line)) continue;
                    var row = JsonSerializer.Deserialize<VECTOR3Row>(line);
                    if (row == null) continue;
                    _list.Add(row);
                }
            }
        }
    }
}