// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System
// </auto-generated>

using System;
using System.Collections.Generic;
using Devian.Core;
using Devian.Protobuf;
using Google.Protobuf;

namespace Devian.Common
{
    public sealed partial class TestSheetRow : IProtoEntity<Proto.TestSheetRow>
    {
        public UserType UserType { get; set; }

        public int Number { get; set; }

        public List<int> IntArr { get; set; }

        public List<string> StringArr { get; set; }

        public List<float> FloatArr { get; set; }

        public UserProfile UserProfile { get; set; }

        /// <summary>Primary key 반환</summary>
        public object GetKey() => Number;

        #region IProtoEntity Implementation

        /// <summary>
        /// Protobuf 메시지에서 엔티티 필드 로드.
        /// 의미 변환(암호화 복호화 등)의 중심.
        /// </summary>
        public void _LoadProto(Proto.TestSheetRow msg)
        {
            UserType = msg.UserType;
            Number = msg.Number;
            IntArr = new List<int>(msg.IntArr);
            StringArr = new List<string>(msg.StringArr);
            FloatArr = new List<float>(msg.FloatArr);
            UserProfile = msg.UserProfile;
        }

        /// <summary>
        /// 엔티티 필드를 Protobuf 메시지로 저장.
        /// 의미 변환(암호화 등)의 중심.
        /// </summary>
        public Proto.TestSheetRow _SaveProto()
        {
            var msg = new Proto.TestSheetRow();
            msg.UserType = UserType;
            msg.Number = Number;
            if (IntArr != null) msg.IntArr.AddRange(IntArr);
            if (StringArr != null) msg.StringArr.AddRange(StringArr);
            if (FloatArr != null) msg.FloatArr.AddRange(FloatArr);
            msg.UserProfile = UserProfile;
            return msg;
        }

        /// <summary>
        /// Protobuf JSON 문자열에서 엔티티 로드.
        /// JsonParser로 TProto 생성 후 _LoadProto 호출.
        /// </summary>
        public void _LoadJson(string json)
        {
            var parser = new JsonParser(JsonParser.Settings.Default);
            var msg = parser.Parse<Proto.TestSheetRow>(json);
            _LoadProto(msg);
        }

        /// <summary>
        /// 엔티티를 Protobuf JSON 문자열로 저장.
        /// _SaveProto 호출 후 JsonFormatter로 변환.
        /// </summary>
        public string _SaveJson()
        {
            var msg = _SaveProto();
            var formatter = new JsonFormatter(JsonFormatter.Settings.Default);
            return formatter.Format(msg);
        }

        #endregion
    }
}
