// <auto-generated>
// DO NOT EDIT - Generated by Devian Build System v10
// </auto-generated>

import type { Variant } from '../features/variant';
import { IEntity, IEntityKey } from '@devian/core';

// ========== Enums (gen:) ==========

/** Auto-generated enum from TB_COMPLEX_POLICY.key */
export enum ComplexPolicyType {
    AttackPower = 0,
    CriRate = 1,
    NameTag = 2,
}

/** Auto-generated enum from TB_ERROR_COMMON.id */
export enum CommonErrorType {
    CLOUDSAVE_CHECKSUM = 0,
    CLOUDSAVE_DELETE = 1,
    CLOUDSAVE_KEYIV = 2,
    CLOUDSAVE_LOAD = 3,
    CLOUDSAVE_NOCLIENT = 4,
    CLOUDSAVE_PAYLOAD_INVALID = 5,
    CLOUDSAVE_SAVE = 6,
    CLOUDSAVE_SIGNIN = 7,
    CLOUDSAVE_SLOT_EMPTY = 8,
    CLOUDSAVE_SLOT_MISSING = 9,
    COMMON_AUTH = 10,
    COMMON_NETWORK = 11,
    COMMON_RATE_LIMIT = 12,
    COMMON_SERVER = 13,
    COMMON_UNKNOWN = 14,
    FIREBASE_APPLE_BRIDGE = 15,
    FIREBASE_APPLE_SIGNIN = 16,
    FIREBASE_APPLE_TOKEN = 17,
    FIREBASE_DEPENDENCY = 18,
    FIREBASE_FACEBOOK_NOT_IMPLEMENTED = 19,
    FIREBASE_GOOGLE_REAUTH_REQUIRED = 20,
    FIREBASE_GOOGLE_SIGNIN = 21,
    FIREBASE_GOOGLE_TOKEN = 22,
    FIREBASE_NOT_INITIALIZED = 23,
    FIREBASE_NO_USER = 24,
    FIREBASE_REAUTH_UNKNOWN = 25,
    FIREBASE_SIGNIN = 26,
    FIREBASE_TOKEN = 27,
    IAP_NOT_INITIALIZED = 28,
    IAP_NOT_SUPPORTED = 29,
    LOCALSAVE_CANCELLED = 30,
    LOCALSAVE_CHECKSUM = 31,
    LOCALSAVE_FILENAME_EMPTY = 32,
    LOCALSAVE_FILENAME_INVALID = 33,
    LOCALSAVE_KEYIV = 34,
    LOCALSAVE_PATH_EMPTY = 35,
    LOCALSAVE_READ = 36,
    LOCALSAVE_SLOT_EMPTY = 37,
    LOCALSAVE_SLOT_MISSING = 38,
    LOCALSAVE_WRITE = 39,
    LOGIN_ANONYMOUS_EXCEPTION = 40,
    LOGIN_ANONYMOUS_FAILED = 41,
    LOGIN_APPLE_EXCEPTION = 42,
    LOGIN_APPLE_LINK_FAILED = 43,
    LOGIN_APPLE_MISSING_TOKEN = 44,
    LOGIN_APPLE_SIGNIN_FAILED = 45,
    LOGIN_CREDENTIAL_UNSUPPORTED = 46,
    LOGIN_FIREBASE_DEPENDENCY = 47,
    LOGIN_GOOGLE_EXCEPTION = 48,
    LOGIN_GOOGLE_LINK_FAILED = 49,
    LOGIN_GOOGLE_MISSING_AUTH_CODE = 50,
    LOGIN_GOOGLE_SIGNIN_FAILED = 51,
    LOGIN_GPGS_AUTH_FAILED = 52,
    LOGIN_GPGS_EXCEPTION = 53,
    LOGIN_GPGS_NOT_FOUND = 54,
    LOGIN_GPGS_NOT_INITIALIZED = 55,
    LOGIN_GPGS_NO_AUTHENTICATE = 56,
    LOGIN_GPGS_NO_AUTH_CODE = 57,
    LOGIN_GPGS_NO_SERVER_ACCESS = 58,
    LOGIN_SYNC_CANCELLED = 59,
    LOGIN_SYNC_LOAD_CLOUD_FAILED = 60,
    LOGIN_SYNC_LOAD_LOCAL_FAILED = 61,
    LOGIN_SYNC_RESOLVE_FAILED = 62,
    LOGIN_SYNC_SAVE_CLOUD_FAILED = 63,
    LOGIN_SYNC_SAVE_LOCAL_FAILED = 64,
    LOGIN_SYNC_SLOT_LIST_FAILED = 65,
    LOGIN_UNSUPPORTED = 66,
    PURCHASE_INIT_FAILED = 67,
    PURCHASE_INIT_REQUIRED = 68,
    PURCHASE_NETWORK_UNAVAILABLE = 69,
    PURCHASE_PRODUCT_FETCH_FAILED = 70,
    PURCHASE_RENTAL_LATEST_CALL_FAILED = 71,
    PURCHASE_RENTAL_LATEST_NOT_FOUND = 72,
    PURCHASE_STORE_FAILED = 73,
    PURCHASE_UNAUTHENTICATED = 74,
    PURCHASE_UNSUPPORTED_PLATFORM = 75,
    SAVEDATA_PAYLOAD_PARSE_FAILED = 76,
}

/** Auto-generated enum from TB_ERROR_SERVER.id */
export enum ServerErrorType {
    BAD_REQUEST = 1,
    FORBIDDEN = 3,
    INTERNAL = 100,
    NOT_FOUND = 4,
    SERVICE_UNAVAILABLE = 101,
    UNAUTHORIZED = 2,
    UNKNOWN = 0,
}

// ================================================================
// Tables
// ================================================================

export interface COMPLEX_POLICY extends IEntityKey<ComplexPolicyType> {
    Key: ComplexPolicyType;
    FallbackValue: Variant;
    MinValue: Variant;
    MaxValue: Variant;
    getKey(): ComplexPolicyType;
}

export interface ERROR_COMMON extends IEntityKey<CommonErrorType> {
    Id: CommonErrorType;
    Msg_key: string;
    Msg: string;
    getKey(): CommonErrorType;
}

export interface ERROR_SERVER extends IEntityKey<ServerErrorType> {
    Id: ServerErrorType;
    Code: number;
    Status: number;
    getKey(): ServerErrorType;
}

// ================================================================
// Table Containers
// ================================================================

export class TB_COMPLEX_POLICY {
    private static _dict: Map<ComplexPolicyType, COMPLEX_POLICY> = new Map();
    private static _list: COMPLEX_POLICY[] = [];

    static get count(): number { return this._list.length; }

    static clear(): void {
        this._dict.clear();
        this._list = [];
    }

    static getAll(): readonly COMPLEX_POLICY[] { return this._list; }

    static get(key: ComplexPolicyType): COMPLEX_POLICY | undefined {
        return this._dict.get(key);
    }

    static has(key: ComplexPolicyType): boolean {
        return this._dict.has(key);
    }

    static find(key: ComplexPolicyType): COMPLEX_POLICY {
        const row = this._dict.get(key);
        if (!row) throw new Error(`TB_COMPLEX_POLICY: key ${key} not found`);
        return row;
    }

    static tryFind(key: ComplexPolicyType): COMPLEX_POLICY | undefined {
        return this._dict.get(key);
    }

    static loadFromJson(json: string): void {
        this.clear();
        const lines = json.split('\n').filter(l => l.trim());
        for (const line of lines) {
            const row = JSON.parse(line) as COMPLEX_POLICY;
            this._list.push(row);
            this._dict.set(row.Key, row);
        }
    }

    static saveToJson(): string {
        return this._list.map(r => JSON.stringify(r)).join('\n');
    }
}

export class TB_ERROR_COMMON {
    private static _dict: Map<CommonErrorType, ERROR_COMMON> = new Map();
    private static _list: ERROR_COMMON[] = [];

    static get count(): number { return this._list.length; }

    static clear(): void {
        this._dict.clear();
        this._list = [];
    }

    static getAll(): readonly ERROR_COMMON[] { return this._list; }

    static get(key: CommonErrorType): ERROR_COMMON | undefined {
        return this._dict.get(key);
    }

    static has(key: CommonErrorType): boolean {
        return this._dict.has(key);
    }

    static find(key: CommonErrorType): ERROR_COMMON {
        const row = this._dict.get(key);
        if (!row) throw new Error(`TB_ERROR_COMMON: key ${key} not found`);
        return row;
    }

    static tryFind(key: CommonErrorType): ERROR_COMMON | undefined {
        return this._dict.get(key);
    }

    static loadFromJson(json: string): void {
        this.clear();
        const lines = json.split('\n').filter(l => l.trim());
        for (const line of lines) {
            const row = JSON.parse(line) as ERROR_COMMON;
            this._list.push(row);
            this._dict.set(row.Id, row);
        }
    }

    static saveToJson(): string {
        return this._list.map(r => JSON.stringify(r)).join('\n');
    }
}

export class TB_ERROR_SERVER {
    private static _dict: Map<ServerErrorType, ERROR_SERVER> = new Map();
    private static _list: ERROR_SERVER[] = [];

    static get count(): number { return this._list.length; }

    static clear(): void {
        this._dict.clear();
        this._list = [];
    }

    static getAll(): readonly ERROR_SERVER[] { return this._list; }

    static get(key: ServerErrorType): ERROR_SERVER | undefined {
        return this._dict.get(key);
    }

    static has(key: ServerErrorType): boolean {
        return this._dict.has(key);
    }

    static find(key: ServerErrorType): ERROR_SERVER {
        const row = this._dict.get(key);
        if (!row) throw new Error(`TB_ERROR_SERVER: key ${key} not found`);
        return row;
    }

    static tryFind(key: ServerErrorType): ERROR_SERVER | undefined {
        return this._dict.get(key);
    }

    static loadFromJson(json: string): void {
        this.clear();
        const lines = json.split('\n').filter(l => l.trim());
        for (const line of lines) {
            const row = JSON.parse(line) as ERROR_SERVER;
            this._list.push(row);
            this._dict.set(row.Id, row);
        }
    }

    static saveToJson(): string {
        return this._list.map(r => JSON.stringify(r)).join('\n');
    }
}